<!--
  Generated template for the ForgotPasswordPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header class="header-row">

  <ion-row class="header-component">
    <ion-col col-2>
      <ion-row class="full-height">
        <ion-icon name="md-arrow-round-back" (click)="goback()" class="menu-icon">
        </ion-icon>
      </ion-row>
    </ion-col>
  </ion-row>

</ion-header>


<ion-content padding>

  <ion-row class="logo-row first-row">
    <img class="logo-image" src="assets/imgs/logo.png" />
  </ion-row>

  <ion-row *ngIf="sendRequest">
    <ion-row class="page-des">
      <span>
        Please insert your email address and new password.
        <br>We will send you a confirm code via email.
      </span>
    </ion-row>

    <form #userProfile="ngForm" id="userProfile" (ngSubmit)="signUpUser(userProfile)" novalidate>
      <ion-row class="user-input-row">
        <mat-form-field>
          <input matInput type="email" placeholder="Email Address" required name="useremail" [(ngModel)]="userData.email" [formControl]="emailCtrl">


          <mat-error *ngIf="emailCtrl.hasError('email') && !emailCtrl.hasError('required')">
            Please input valid email address.
          </mat-error>

          <mat-error *ngIf="emailCtrl.hasError('required')">
            Email address is required.
          </mat-error>

        </mat-form-field>
      </ion-row>

      <ion-row class="user-input-row">
        <mat-form-field>
          <input matInput type="password" placeholder="New Password" [formControl]="passCtrl" [(ngModel)]="userData.password" required name="password">

          <mat-error>
            New Password is required.
          </mat-error>
        </mat-form-field>
      </ion-row>

      <ion-row class="request-change">
        <button mat-raised-button>
          Send
        </button>
      </ion-row>
    </form>
  </ion-row>

  <ion-row *ngIf="!sendRequest">
    <ion-row class="confirm-des">
      <span>
        Please input confirm code which we sent you via email.
      </span>
    </ion-row>

    <form #confirmInfo="ngForm" id="confirmInfo" (ngSubmit)="sendConfirmCode(confirmInfo)" novalidate>
      <ion-row class="user-input-row">
        <mat-form-field>
          <input matInput placeholder="Confirm Code" [(ngModel)]="userData.confirm" required name="confirmcode">

          <mat-error>
            Confirm Code is required.
          </mat-error>

        </mat-form-field>
      </ion-row>

      <ion-row class="confirm-button">
        <button mat-raised-button>
          Confirm
        </button>
      </ion-row>
    </form>

    <ion-row class="resend-code">
      <span>
        Didn't get confirm code?
      </span>
      <span class="resend-code-span" (click)="resendCode()">
        Resend Code
      </span>
    </ion-row>
  </ion-row>

</ion-content>